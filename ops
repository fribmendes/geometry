{"version":1,"ops":[{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493385783,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5Nzk5NjM1Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-297996352"},"message":"You may try disabling async: `PROMPT_GEOMETRY_RPROMPT_ASYNC=0`","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493385790,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDEwNjIxMTI5NzA="},"added":["question"],"removed":[]},{"type":3,"author":{"id":"46c24e703aaa390dae044af2bdc819cd47d046e3"},"timestamp":1493387524,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODAwMzM2Ng==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298003366"},"message":"It gives nothing except ```prompt_geometry_render:12: command not found: 0``` when performing any command.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493387956,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODAwNTIyNw==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298005227"},"message":"Sorry, it should be `PROMPT_GEOMETRY_RPROMPT_ASYNC=false`.","files":null},{"type":3,"author":{"id":"46c24e703aaa390dae044af2bdc819cd47d046e3"},"timestamp":1493388732,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODAwODY4Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298008682"},"message":"Now it gives nothing too.","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493783969,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDEwNjY2MzE3Mzg="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493783969,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MTA2NjYzMTczOQ=="},"added":[],"removed":["question"]},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493784520,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODgxOTI1Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298819252"},"message":"Can confirm the issue is present in `master`. I'll further investigate it.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493785848,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODgyMTEwMg==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298821102"},"message":"Tried `auto-ls` and found the issue has to do with `GEOMETRY_PROMPT_PREFIX`.\n\nThere are two workarounds for this:\n\n- Set `GEOMETRY_PROMPT_PREFIX` to \"\".\n\n```\nGEOMETRY_PROMPT_PREFIX=\"\"\n```\n\n- Adapt `auto-ls` function:\n\n```\nauto-ls () {\n   if [[ $#BUFFER -eq 0 ]]; then\n       echo \"\"\n       ls\n       echo \"\" # Workaround\n       zle redisplay\n   else\n       zle .$WIDGET\n   fi\n}\n```\n\nI haven't tried `do_enter` function but it should be a similar issue. I have still have to understand why this happens.","files":null},{"type":3,"author":{"id":"46c24e703aaa390dae044af2bdc819cd47d046e3"},"timestamp":1493803405,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODg2MjAyMg==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298862022"},"message":"Thanks, both workarounds works well.\n\nWhile googling I found on [SO](http://stackoverflow.com/questions/30169090/zsh-behavior-on-enter) some little information:\n\u003e While it would be sufficient to run zle accept-line only in cases where there actually was a command, zsh would not put a new prompt after the output. And while it is possible to redraw the prompt with zle redisplay, this will probably overwrite the last line(s) of the output if you are using multi-line prompts. (Of course there are workarounds for that, too, but nothing as simple as just using zle accept-line.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1493812720,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5ODg5MDgwOQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/151#issuecomment-298890809"},"message":"Thanks for the link. Good info :+1:","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1494297076,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDEwNzM4MzY3MTE="},"added":["question"],"removed":[]},{"type":4,"author":{"id":"46c24e703aaa390dae044af2bdc819cd47d046e3"},"timestamp":1532621033,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTc1NTQxNzg2OA=="},"status":2}]}
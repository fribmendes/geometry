{"version":1,"ops":[{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481634102,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDg5MTk2NDk1Mw=="},"added":["question"],"removed":[]},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1481634620,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjczNDM0Mw==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-266734343"},"message":"I always knew that much forking would come back and bite us.\n\nWell, caching the rprompt may seem like a good solution but I'm not sure if I like it. How high is the probability that something has changed between the two consecutive prompt writes?\n\nAlso is this a symptom of a different problem: is our solution not enough? Should we consider switching to zsh-async?","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481634785,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjczNDkyMQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-266734921"},"message":"I could try to switch between our home made implementation and zsh-async as a experiment and see if there is a difference in this regard.\n\nI believe that caching could work in this particular context (by caching by very small amount of time, ie, \u003c1s).","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1481635019,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjczNTcwMQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-266735701"},"message":"Well, our solution is simple and maintainable. I'd rather have that instead of having other dependencies.\n\nI'm curious about the performance of both solutions though. How about we test them?","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481635702,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjczODE2Ng==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-266738166"},"message":"Yeah, I wanted to try zsh-async for awhile but never found a good excuse to use it.\n\nAnyways the issue is with exec + killing subprocesses. I don't remember the reason why I choose to opt for kill a running subprocess rather than let it finish and avoid firing up a second one.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481643601,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc3MTcyOQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-266771729"},"message":"I remember, it was because it may show stale/invalid information.\n\nSay I let a 5 second process run, meanwhile the user issues a `git checkout other-branch`, then I print the result from the long-running process. I'll end up displaying the branch info from the previous checkout.\n\nBut anyways, taking a further look it seems that long-running git process do \"lock\" the git repository so it's unfeasible there is anything changing meanwhile. At least nothing obvious.\n\nSo, for the time being I'll take a look into:\n\n  - What is the git command that causes the `.git/index.lock`. See if it can be avoided.\n  - Try out `zsh-async`. Avoid killing long-running processes.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481644215,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc3NDc5OA==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-266774798"},"message":"Maybe related: https://gist.github.com/sindresorhus/3898739","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481953569,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Nzc0NTA0Nw==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-267745047"},"message":"I tried implementing cache at async lib and git plugin levels and both seems to be quite problematic. So I'm discarding that idea completely.\n\nI made some perf improvements at #68 thou.","files":null},{"type":4,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482083346,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50ODk3OTAwMjU0"},"status":2},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482257022,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2ODMxMzM3Mw==","github-url":"https://github.com/geometry-zsh/geometry/issues/61#issuecomment-268313373"},"message":"@vincecampanale Are you stuck or need any other kind of feedback? Let us know.","files":null},{"type":3,"author":{"id":"abd143fb16a184e353306d7c6d397f7a6a1dda14"},"timestamp":1482301883,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2ODQ0NzcxMw==","github-url":"https://github.com/geometry-zsh/geometry/issues/61#issuecomment-268447713"},"message":"Yea, I'm having difficulty with troubleshooting. I'm also getting this error \n![screen shot 2016-12-21 at 1 34 08 am](https://cloud.githubusercontent.com/assets/15335197/21379556/e8d4f616-c71c-11e6-925b-efdc8ad4fba5.png)\n\nThe relevant lines of code: \n\u003cimg width=\"431\" alt=\"screen shot 2016-12-21 at 1 34 43 am\" src=\"https://cloud.githubusercontent.com/assets/15335197/21379566/fc380004-c71c-11e6-8a77-8da4793aea4f.png\"\u003e\n\nAny thoughts on a good place to start? I guess I'm just getting used to the new programming language and application type. I've never worked with zsh or any kind of terminal/shell application before.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482323854,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2ODUxMzIyMA==","github-url":"https://github.com/geometry-zsh/geometry/issues/61#issuecomment-268513220"},"message":"A first look nothing seems out of place. You may create a [gist](gist.github.com) with the relevant file so it's easier to look at.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482758521,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2OTIxMDk3MA==","github-url":"https://github.com/geometry-zsh/geometry/issues/61#issuecomment-269210970"},"message":"Closing this as per #71. Thank you @vincecampanale","files":null},{"type":4,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482758522,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50OTA1MTEyNTI0"},"status":2}]}
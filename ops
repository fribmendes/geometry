{"version":1,"ops":[{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1481629996,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjcxOTY0NA==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266719644"},"message":"Hi! Thanks for submitting the issue. Can you please tell us what OS and zsh version you are running?","files":null},{"type":3,"author":{"id":"0c52d5fcd42b41625f7eac31067c7b4da6bc3735"},"timestamp":1481630277,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjcyMDUxNg==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266720516"},"message":"macos 10.12.1 (16B2555), `zsh 5.3 (x86_64-apple-darwin16.1.0)`\nUsing zplug to manage the installation.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481630657,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NjcyMTcyNg==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266721726"},"message":"It's [this](https://github.com/frmendes/geometry/blob/master/lib/async.zsh#L35) line. I never got that message, it's write protected by any chance?","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481630678,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDg5MTg5OTE2Mw=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"0c52d5fcd42b41625f7eac31067c7b4da6bc3735"},"timestamp":1481636626,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc0MTU0Nw==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266741547"},"message":"Yep, it's read-only for everyone but system.\nSeems to be the following issue:\nhttps://superuser.com/questions/1133065/unable-to-write-to-tmp-osx-unable-to-correct-permissions-operation-not-permitt#comment1629612_1133065","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1481638194,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc0NzQ4Mw==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266747483"},"message":"Try setting `GEOMETRY_ASYNC_TMP_FILENAME=~/.geometry_rprompt_info` before sourcing geometry.","files":null},{"type":3,"author":{"id":"0c52d5fcd42b41625f7eac31067c7b4da6bc3735"},"timestamp":1481645060,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc3OTI2MA==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266779260"},"message":"The issue is still there.\nThis is my current .zshrc:\n```shell\nsource ~/.zplug/init.zsh\n\n# ZSH history\nsetopt append_history\nsetopt hist_expire_dups_first\nsetopt hist_fcntl_lock\nsetopt hist_ignore_all_dups\nsetopt hist_lex_words\nsetopt hist_reduce_blanks\nsetopt hist_save_no_dups\nsetopt share_history\nsetopt menu_complete\nsetopt COMPLETE_IN_WORD    # Complete from both ends of a word.\nsetopt ALWAYS_TO_END       # Move cursor to the end of a completed word.\nsetopt PATH_DIRS           # Perform path search even on command names with slashes.\nsetopt AUTO_MENU           # Show completion menu on a successive tab press.\nsetopt AUTO_LIST           # Automatically list choices on ambiguous completion.\nsetopt AUTO_PARAM_SLASH    # If completed parameter is a directory, add a trailing slash.\nunsetopt MENU_COMPLETE     # Do not autoselect the first completion entry.\nunsetopt FLOW_CONTROL      # Disable start/stop characters in shell editor.\n\nsetopt EXTENDED_GLOB\nsetopt NO_NOMATCH\n\nGEOMETRY_ASYNC_TMP_FILENAME=~/.geometry_rprompt_info\nGEOMETRY_PROMPT_PLUGINS=(virtualenv docker_machine exec_time git)\n\n\nexport PATH=/usr/local/bin:$PATH\nexport PATH=\"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\n# For brew\nexport PATH=\"/usr/local/sbin:$PATH\"\n# For... something\nexport MANPATH=\"/usr/local/man:$MANPATH\"\nexport PATH=\"$PATH:`yarn global bin`\"\n\n# Virtualenv\nexport WORKON_HOME=~/.virtualenvs\nsource /usr/local/bin/virtualenvwrapper.sh\n\n\nprecmd() {\nif [[ -n $PYENV_SHELL ]]; then\n  local version\n  version=${(@)$(pyenv version)[1]}\n  if [[ $version = system ]]; then\n    PROMPT=\"%(?.%F{magenta}.%F{red})❯%f \"\n  else\n    PROMPT=\"(pyenv $version) %(?.%F{magenta}.%F{red})❯%f \"\n  fi\nfi\n}\n\n# Nvm\nexport NVM_DIR=\"$HOME/.nvm\"\n. \"$(brew --prefix nvm)/nvm.sh\"\n\nexport NODEDIR=$(which node)\n\n\nexport CLICOLOR=1\nexport TERM=xterm-256color\nexport BLOCK_SIZE=human-readable # https://www.gnu.org/software/coreutils/manual/html_node/Block-size.html\nexport HISTSIZE=11000\nexport SAVEHIST=10000\nexport HISTFILE=~/.zsh_history\nexport LC_ALL=en_US.UTF-8\nexport LANG=en_US.UTF-8\n\n# Supports oh-my-zsh plugins and the like\n# zplug \"zplug/zplug\"\nzplug \"plugins/git\", from:oh-my-zsh\nzplug \"mafredri/zsh-async\"\n# zplug \"mreinhardt/sfz-prompt.zsh\"\n# zplug \"sindresorhus/pure\"\n# zplug \"marszall87/lambda-pure\"\nzplug \"frmendes/geometry\"\nzplug \"zsh-users/zsh-history-substring-search\", nice:19\nzplug \"zsh-users/zsh-syntax-highlighting\", nice:18\nzplug \"zsh-users/zsh-completions\"\n\n\nzstyle ':filter-select' max-lines 10\nzstyle ':filter-select' extended-search yes\nzstyle ':filter-select' case-insensitive yes\nzstyle ':filter-select' rotate-list yes\nzstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}'\nzstyle ':completion:*:*:*:*:*' menu select\nzstyle ':completion:*' menu select\nzstyle ':completion:*' menu select=20\nzstyle ':completion:*:matches' group 'yes'\nzstyle ':completion:*:options' description 'yes'\nzstyle ':completion:*:options' auto-description '%d'\nzstyle ':completion:*:corrections' format ' %F{green}-- %d (errors: %e) --%f'\nzstyle ':completion:*:descriptions' format ' %F{yellow}-- %d --%f'\nzstyle ':completion:*:messages' format ' %F{purple} -- %d --%f'\nzstyle ':completion:*:warnings' format ' %F{red}-- no matches found --%f'\nzstyle ':completion:*:default' list-prompt '%S%M matches%s'\nzstyle ':completion:*' format ' %F{yellow}-- %d --%f'\nzstyle ':completion:*' group-name ''\nzstyle ':completion:*' verbose yes\nzstyle ':completion::complete:*' use-cache on\nzstyle ':completion::complete:*' cache-path \"${ZDOTDIR:-$HOME}/.zcompcache\"\nzstyle ':prezto:module:syntax-highlighting' highlighters \\\n'main' \\\n'brackets' \\\n'pattern' \\\n'line' \\\n'cursor' \\\n'root'\n\n# ### KEY BINDINGS ###\nKEYTIMEOUT=1 # Prevents key timeout lag.\nbindkey -v\n\n#\n# Editors\n#\n\nexport EDITOR='micro'\nexport PAGER='less'\n# Set the default Less options.\n# Mouse-wheel scrolling has been disabled by -X (disable screen clearing).\n# Remove -X and -F (exit if the content fits on one screen) to enable it.\nexport LESS='-g -i -M -R -S -w -z-4'\n\n# Set the Less input preprocessor.\n# Try both `lesspipe` and `lesspipe.sh` as either might exist on a system.\nif (( $#commands[(i)lesspipe(|.sh)] )); then\nexport LESSOPEN=\"| /usr/bin/env $commands[(i)lesspipe(|.sh)] %s 2\u003e\u0026-\"\nfi\n\n\n# My stuff\nsource ~/.aliases\nsource ~/.functions\n\n[ -f ~/.fzf.zsh ] \u0026\u0026 source ~/.fzf.zsh\n\nif ! zplug check --verbose; then\n  printf \"Install? [y/N]: \"\n  if read -q; then\n    echo; zplug install\n  fi\nfi\n\nzplug load\n```","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481645462,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc4MTI5MA==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266781290"},"message":"Not sure how zplug works but try moving\n\n    GEOMETRY_ASYNC_TMP_FILENAME=~/.geometry_rprompt_info\n    GEOMETRY_PROMPT_PLUGINS=(virtualenv docker_machine exec_time git)\n\nAbove the line where you source zplug.","files":null},{"type":3,"author":{"id":"0c52d5fcd42b41625f7eac31067c7b4da6bc3735"},"timestamp":1481646145,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc4NDY4OQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266784689"},"message":"Thanks, but it's not that either. I'll see what else I can dig up.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481648947,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Njc5ODc2MA==","github-url":"https://github.com/geometry-zsh/geometry/issues/59#issuecomment-266798760"},"message":"Try loading geometry without zplug. That would reduce the problem space.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1481953569,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2Nzc0NTA0Nw==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-267745047"},"message":"I tried implementing cache at async lib and git plugin levels and both seems to be quite problematic. So I'm discarding that idea completely.\n\nI made some perf improvements at #68 thou.","files":null},{"type":4,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482083346,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50ODk3OTAwMjU0"},"status":2},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1482083409,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NzgzNTQ2OA==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-267835468"},"message":"Do we want to close this just yet?","files":null},{"type":4,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482085128,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQ4OTc5MDY4MTQ="},"status":1},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1482085166,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI2NzgzNzA1Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-267837052"},"message":"It was closed automatically from #68.","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1483810366,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3MTA5NzQ5Mw==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-271097493"},"message":"Looking back, the alternative would be to switch to `zsh-async`, right?\n\nI wanted to avoid adding dependencies to the project but we are definitely lacking performance. You said earlier you wanted to try out zsh async. Do you want to take this or should I?","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1483814854,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3MTEwMjAxNg==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-271102016"},"message":"I'm gonna take a look today, quite busy lately.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1486414184,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3NzgwODc3OA==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-277808778"},"message":"@frmendes Could you take a look at https://github.com/frmendes/geometry/issues/88 and review zsh-async perf. From my side it's slower than our bare-bones implementation.\n\nMaybe it's something wrong with my implementation but I can't catch it.","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1486424318,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Nzg1MDQ5OA==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-277850498"},"message":"A bit caught up in work this week. I'll try to do it in the next couple of days.\n\nActually I was recently wondering if you were going to continue that PR. I'll definitely check perf! I've been wanting to have a good excuse to go into that for ages! ❤️","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1519812987,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM2OTE5Mjc5MA==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-369192790"},"message":"Can we have an update on this? Using the latest geometry version I have no lag issues on smaller repos (which were a problem as well) and my shell start time is at around ~0.15s","files":null},{"type":3,"author":{"id":"940aabe64f74a4490b5129922ab6d0d7b9926a38"},"timestamp":1519930262,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM2OTY5MTc5Ng==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-369691796"},"message":"I tried this on the openframeworks/openFrameworks respository, which has about 16,000 commits over 6+ years, with master checkout taking up 3.7G. Holding down enter did not slow anything down any more than any other non-git repository.","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1519930325,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM2OTY5MjEwMQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/60#issuecomment-369692101"},"message":"I'd say this is a win for our async implementation :heart:","files":null},{"type":4,"author":{"id":"940aabe64f74a4490b5129922ab6d0d7b9926a38"},"timestamp":1538848840,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTg4ODY3OTk0Ng=="},"status":2}]}
{"version":1,"ops":[{"type":1,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1486661951,"metadata":{"github-id":"MDU6SXNzdWUyMDY1NzY5NzU=","github-url":"https://github.com/geometry-zsh/geometry/issues/114","origin":"github"},"title":"Async library tries to erase temporal files from other users","message":"[Async lib](https://github.com/frmendes/geometry/blob/master/lib/async.zsh) uses temporal files to communicate with background jobs.\n\nWhen a new prompt is loaded the function `geometry_async_setup` tries to clean up -possibly- stalled temporal files. In doing so it does not check the ownership (ex, a prompt for `root`). So it may face a prompt to confirm deletion (`zsh 5.3`).\n\nA possible solution is to use `$UID` to [prefix temporal files](https://github.com/frmendes/geometry/blob/master/lib/async.zsh#L3):\n\n    typeset -g GEOMETRY_ASYNC_TMP_FILENAME_PREFIX='.geometry-rprompt-info-'$UID'-'","files":null}]}